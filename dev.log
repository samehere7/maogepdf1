
> my-v0-project@0.1.0 dev
> next dev

  [1m[38;2;173;127;168m ‚ñ≤ Next.js 14.1.0[39m[22m
   - Local:        http://localhost:3000
   - Environments: .env.local, .env

(node:33843) Warning: Setting the NODE_TLS_REJECT_UNAUTHORIZED environment variable to '0' makes TLS connections and HTTPS requests insecure by disabling certificate verification.
(Use `node --trace-warnings ...` to show where the warning was created)
 [32m[1m‚úì[22m[39m Ready in 1695ms
 [32m[1m‚úì[22m[39m Compiled /api/payment/paddle in 269ms (733 modules)
=== Processing Payment === {
  requestId: [32m'0jfwb'[39m,
  plan: [32m'monthly'[39m,
  userId: [32m'test-user-123'[39m,
  timestamp: [32m'2025-06-23T14:52:38.931Z'[39m,
  enableTestMode: [33mfalse[39m
}
Initializing Paddle SDK... {
  hasApiKey: [33mtrue[39m,
  environment: [32m'production'[39m,
  apiKeyPrefix: [32m'pdl_live_apikey_01jy...'[39m
}
[Paddle] [LOG] [Request] POST /transactions Transaction ID: 2c890c81-7b9b-47fe-8f79-0dbba0be89b5
[Paddle] [LOG] [Response] POST /transactions 400 Transaction ID: 2c890c81-7b9b-47fe-8f79-0dbba0be89b5 Request ID: 273e0859-3648-4b62-9c86-f76da06bd0dc
=== Payment API Error === {
  requestId: [32m'3dwth6'[39m,
  timestamp: [32m'2025-06-23T14:52:40.222Z'[39m,
  error: [32m'Checkout has not yet been enabled for this account, you may need to check with Paddle Support that the Paddle onboarding process has completed.'[39m,
  stack: [32m'Error: Checkout has not yet been enabled for this account, you may need to check with Paddle Support that the Paddle onboarding process has completed.\n'[39m +
    [32m'    at TransactionsResource.handleError (webpack-internal:///(rsc)/./node_modules/@paddle/paddle-node-sdk/dist/esm/internal/base/base-resource.js:13:19)\n'[39m +
    [32m'    at TransactionsResource.handleResponse (webpack-internal:///(rsc)/./node_modules/@paddle/paddle-node-sdk/dist/esm/internal/base/base-resource.js:19:14)\n'[39m +
    [32m'    at TransactionsResource.eval (webpack-internal:///(rsc)/./node_modules/@paddle/paddle-node-sdk/dist/esm/resources/transactions/index.js:56:31)\n'[39m +
    [32m'    at Generator.next (<anonymous>)\n'[39m +
    [32m'    at fulfilled (webpack-internal:///(rsc)/./node_modules/@paddle/paddle-node-sdk/dist/esm/resources/transactions/index.js:17:32)\n'[39m +
    [32m'    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)'[39m,
  plan: [32m'monthly'[39m,
  userId: [32m'test-user-123'[39m,
  paddleConfig: {
    hasApiKey: [33mtrue[39m,
    environment: [32m'production'[39m,
    priceIds: {
      monthly: [32m'pri_01jy6547gd84apzec3g66ysbb5'[39m,
      yearly: [32m'pri_01jy654mn4mr07eqd3x59ya42p'[39m
    }
  }
}
 [37m[1m [22m[39m Reload env: .env.local
 [32m[1m‚úì[22m[39m Compiled in 289ms (923 modules)
=== Processing Payment === {
  requestId: [32m'3f4e'[39m,
  plan: [32m'yearly'[39m,
  userId: [32m'819fde1e-0fe0-46e7-86f9-32fbdfdb8ad8'[39m,
  timestamp: [32m'2025-06-23T14:54:33.750Z'[39m,
  enableTestMode: [33mtrue[39m
}
Test mode enabled: simulating successful payment
 [32m[1m‚úì[22m[39m Compiled /api/webhook/paddle in 235ms (133 modules)
‚ö†Ô∏è Webhook signature verification skipped (development mode)
=== Paddle Webhook Received ===
Event Type: subscription_payment_succeeded
Event Time: 2025-06-23T14:55:00.000Z
Full Payload: {
  "alert_name": "subscription_payment_succeeded",
  "event_time": "2025-06-23T14:55:00.000Z",
  "custom_data": {
    "userId": "819fde1e-0fe0-46e7-86f9-32fbdfdb8ad8",
    "plan": "yearly",
    "source": "test_mode"
  }
}
Parsed Custom Data: { userId: [32m'819fde1e-0fe0-46e7-86f9-32fbdfdb8ad8'[39m, plan: [32m'yearly'[39m }
‚úÖ Payment succeeded for user 819fde1e-0fe0-46e7-86f9-32fbdfdb8ad8, plan: yearly
=== Updating Database === {
  userId: [32m'819fde1e-0fe0-46e7-86f9-32fbdfdb8ad8'[39m,
  plan: [32m'yearly'[39m,
  expireAt: [32m'2026-06-23T14:55:45.980Z'[39m,
  timestamp: [32m'2025-06-23T14:55:45.980Z'[39m
}
=== Database Update Error === {
  userId: [32m'819fde1e-0fe0-46e7-86f9-32fbdfdb8ad8'[39m,
  error: {
    code: [32m'42501'[39m,
    details: [1mnull[22m,
    hint: [1mnull[22m,
    message: [32m'permission denied for schema public'[39m
  },
  timestamp: [32m'2025-06-23T14:55:47.341Z'[39m
}
Retrying database update...
Database retry also failed: {
  code: [32m'42501'[39m,
  details: [1mnull[22m,
  hint: [1mnull[22m,
  message: [32m'permission denied for schema public'[39m
}
 [32m[1m‚úì[22m[39m Compiled /api/payment/paddle in 114ms (733 modules)
=== Processing Payment === {
  requestId: [32m'hqvmem'[39m,
  plan: [32m'yearly'[39m,
  userId: [32m'819fde1e-0fe0-46e7-86f9-32fbdfdb8ad8'[39m,
  timestamp: [32m'2025-06-23T15:00:07.419Z'[39m,
  enableTestMode: [33mtrue[39m
}
Test mode enabled: simulating successful payment
 [32m[1m‚úì[22m[39m Compiled /api/webhook/paddle in 45ms (830 modules)
‚ö†Ô∏è Webhook signature verification skipped (development mode)
=== Paddle Webhook Received ===
Event Type: subscription_payment_succeeded
Event Time: 2025-06-23T15:00:07.421Z
Full Payload: {
  "alert_name": "subscription_payment_succeeded",
  "event_time": "2025-06-23T15:00:07.421Z",
  "custom_data": {
    "userId": "819fde1e-0fe0-46e7-86f9-32fbdfdb8ad8",
    "plan": "yearly",
    "source": "test_mode"
  }
}
Parsed Custom Data: { userId: [32m'819fde1e-0fe0-46e7-86f9-32fbdfdb8ad8'[39m, plan: [32m'yearly'[39m }
‚úÖ Payment succeeded for user 819fde1e-0fe0-46e7-86f9-32fbdfdb8ad8, plan: yearly
=== Updating Database === {
  userId: [32m'819fde1e-0fe0-46e7-86f9-32fbdfdb8ad8'[39m,
  plan: [32m'yearly'[39m,
  expireAt: [32m'2026-06-23T15:00:07.492Z'[39m,
  timestamp: [32m'2025-06-23T15:00:07.492Z'[39m
}
=== Database Update Error === {
  userId: [32m'819fde1e-0fe0-46e7-86f9-32fbdfdb8ad8'[39m,
  error: {
    code: [32m'42501'[39m,
    details: [1mnull[22m,
    hint: [1mnull[22m,
    message: [32m'permission denied for schema public'[39m
  },
  timestamp: [32m'2025-06-23T15:00:09.052Z'[39m
}
Retrying database update...
Database retry also failed: {
  code: [32m'42501'[39m,
  details: [1mnull[22m,
  hint: [1mnull[22m,
  message: [32m'permission denied for schema public'[39m
}
=== Processing Payment === {
  requestId: [32m'fbngem'[39m,
  plan: [32m'monthly'[39m,
  userId: [32m'819fde1e-0fe0-46e7-86f9-32fbdfdb8ad8'[39m,
  timestamp: [32m'2025-06-23T15:00:20.590Z'[39m,
  enableTestMode: [33mtrue[39m
}
Test mode enabled: simulating successful payment
‚ö†Ô∏è Webhook signature verification skipped (development mode)
=== Paddle Webhook Received ===
Event Type: subscription_payment_succeeded
Event Time: 2025-06-23T15:00:20.593Z
Full Payload: {
  "alert_name": "subscription_payment_succeeded",
  "event_time": "2025-06-23T15:00:20.593Z",
  "custom_data": {
    "userId": "819fde1e-0fe0-46e7-86f9-32fbdfdb8ad8",
    "plan": "monthly",
    "source": "test_mode"
  }
}
Parsed Custom Data: { userId: [32m'819fde1e-0fe0-46e7-86f9-32fbdfdb8ad8'[39m, plan: [32m'monthly'[39m }
‚úÖ Payment succeeded for user 819fde1e-0fe0-46e7-86f9-32fbdfdb8ad8, plan: monthly
=== Updating Database === {
  userId: [32m'819fde1e-0fe0-46e7-86f9-32fbdfdb8ad8'[39m,
  plan: [32m'monthly'[39m,
  expireAt: [32m'2025-07-23T15:00:20.601Z'[39m,
  timestamp: [32m'2025-06-23T15:00:20.601Z'[39m
}
=== Database Update Error === {
  userId: [32m'819fde1e-0fe0-46e7-86f9-32fbdfdb8ad8'[39m,
  error: {
    code: [32m'42501'[39m,
    details: [1mnull[22m,
    hint: [1mnull[22m,
    message: [32m'permission denied for schema public'[39m
  },
  timestamp: [32m'2025-06-23T15:00:21.525Z'[39m
}
Retrying database update...
Database retry also failed: {
  code: [32m'42501'[39m,
  details: [1mnull[22m,
  hint: [1mnull[22m,
  message: [32m'permission denied for schema public'[39m
}
‚ö†Ô∏è Webhook signature verification skipped (development mode)
=== Paddle Webhook Received ===
Event Type: subscription_payment_succeeded
Event Time: 2025-06-23T15:30:00.000Z
Full Payload: {
  "alert_name": "subscription_payment_succeeded",
  "event_time": "2025-06-23T15:30:00.000Z",
  "custom_data": {
    "userId": "819fde1e-0fe0-46e7-86f9-32fbdfdb8ad8",
    "plan": "monthly",
    "source": "test_mode"
  }
}
Parsed Custom Data: { userId: [32m'819fde1e-0fe0-46e7-86f9-32fbdfdb8ad8'[39m, plan: [32m'monthly'[39m }
‚úÖ Payment succeeded for user 819fde1e-0fe0-46e7-86f9-32fbdfdb8ad8, plan: monthly
=== Updating Database === {
  userId: [32m'819fde1e-0fe0-46e7-86f9-32fbdfdb8ad8'[39m,
  plan: [32m'monthly'[39m,
  expireAt: [32m'2025-07-23T15:06:02.545Z'[39m,
  timestamp: [32m'2025-06-23T15:06:02.545Z'[39m
}
=== Database Update Error === {
  userId: [32m'819fde1e-0fe0-46e7-86f9-32fbdfdb8ad8'[39m,
  error: {
    code: [32m'42501'[39m,
    details: [1mnull[22m,
    hint: [1mnull[22m,
    message: [32m'permission denied for schema public'[39m
  },
  timestamp: [32m'2025-06-23T15:06:03.829Z'[39m
}
Retrying database update...
Database retry also failed: {
  code: [32m'42501'[39m,
  details: [1mnull[22m,
  hint: [1mnull[22m,
  message: [32m'permission denied for schema public'[39m
}
‚ö†Ô∏è Webhook signature verification skipped (development mode)
=== Paddle Webhook Received ===
Event Type: subscription_payment_succeeded
Event Time: 2025-06-23T15:45:00.000Z
Full Payload: {
  "alert_name": "subscription_payment_succeeded",
  "event_time": "2025-06-23T15:45:00.000Z",
  "custom_data": {
    "userId": "819fde1e-0fe0-46e7-86f9-32fbdfdb8ad8",
    "plan": "yearly",
    "source": "test_mode"
  }
}
Parsed Custom Data: { userId: [32m'819fde1e-0fe0-46e7-86f9-32fbdfdb8ad8'[39m, plan: [32m'yearly'[39m }
‚úÖ Payment succeeded for user 819fde1e-0fe0-46e7-86f9-32fbdfdb8ad8, plan: yearly
=== Updating Database === {
  userId: [32m'819fde1e-0fe0-46e7-86f9-32fbdfdb8ad8'[39m,
  plan: [32m'yearly'[39m,
  expireAt: [32m'2026-06-23T15:15:26.925Z'[39m,
  timestamp: [32m'2025-06-23T15:15:26.925Z'[39m
}
=== Database Updated Successfully === {
  userId: [32m'819fde1e-0fe0-46e7-86f9-32fbdfdb8ad8'[39m,
  result: {
    success: [33mtrue[39m,
    user_id: [32m'819fde1e-0fe0-46e7-86f9-32fbdfdb8ad8'[39m,
    plan: [32m'yearly'[39m,
    expire_at: [32m'2026-06-23T15:15:26.925+00:00'[39m,
    updated_at: [32m'2025-06-23T15:15:28.610331+00:00'[39m
  },
  timestamp: [32m'2025-06-23T15:15:30.384Z'[39m
}
‚ö†Ô∏è Webhook signature verification skipped (development mode)
=== Paddle Webhook Received ===
Event Type: subscription_payment_succeeded
Event Time: 2025-06-23T15:20:00.000Z
Full Payload: {
  "alert_name": "subscription_payment_succeeded",
  "event_time": "2025-06-23T15:20:00.000Z",
  "custom_data": {
    "userId": "819fde1e-0fe0-46e7-86f9-32fbdfdb8ad8",
    "plan": "monthly",
    "source": "test_mode"
  }
}
Parsed Custom Data: { userId: [32m'819fde1e-0fe0-46e7-86f9-32fbdfdb8ad8'[39m, plan: [32m'monthly'[39m }
‚úÖ Payment succeeded for user 819fde1e-0fe0-46e7-86f9-32fbdfdb8ad8, plan: monthly
=== Updating Database === {
  userId: [32m'819fde1e-0fe0-46e7-86f9-32fbdfdb8ad8'[39m,
  plan: [32m'monthly'[39m,
  expireAt: [32m'2025-07-23T15:15:43.816Z'[39m,
  timestamp: [32m'2025-06-23T15:15:43.816Z'[39m
}
=== Database Updated Successfully === {
  userId: [32m'819fde1e-0fe0-46e7-86f9-32fbdfdb8ad8'[39m,
  result: {
    success: [33mtrue[39m,
    user_id: [32m'819fde1e-0fe0-46e7-86f9-32fbdfdb8ad8'[39m,
    plan: [32m'monthly'[39m,
    expire_at: [32m'2025-07-23T15:15:43.816+00:00'[39m,
    updated_at: [32m'2025-06-23T15:15:44.926477+00:00'[39m
  },
  timestamp: [32m'2025-06-23T15:15:45.112Z'[39m
}
=== Processing Payment === {
  requestId: [32m't9f8x9'[39m,
  plan: [32m'monthly'[39m,
  userId: [32m'819fde1e-0fe0-46e7-86f9-32fbdfdb8ad8'[39m,
  timestamp: [32m'2025-06-23T15:24:01.824Z'[39m,
  enableTestMode: [33mtrue[39m
}
Test mode enabled: simulating successful payment
=== Processing Payment === {
  requestId: [32m'04j4nl'[39m,
  plan: [32m'yearly'[39m,
  userId: [32m'819fde1e-0fe0-46e7-86f9-32fbdfdb8ad8'[39m,
  timestamp: [32m'2025-06-23T15:28:33.017Z'[39m,
  enableTestMode: [33mtrue[39m
}
Test mode enabled: simulating successful payment
 [32m[1m‚úì[22m[39m Compiled in 20ms
 [32m[1m‚úì[22m[39m Compiled in 72ms (190 modules)
